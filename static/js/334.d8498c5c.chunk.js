"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[334],{6368:function(n,e,t){t.d(e,{O:function(){return o}});var r=t(7689),a=t(1087),i=t(6249),c=t(184),o=function(n){var e=n.movies,t=(0,r.TH)();return(0,c.jsx)("ul",{children:e&&e.map((function(n){return(0,c.jsx)("li",{children:(0,c.jsx)(a.OL,{state:{from:t},to:"/"+i._.MOVIES+"/"+n.id,children:(0,c.jsx)("span",{children:n.title||n.name})})},n.id)}))})}},1294:function(n,e,t){t.d(e,{$:function(){return a}});var r=t(184),a=function(n){var e=n.children;return(0,r.jsx)("section",{children:(0,r.jsx)("div",{children:e})})}},2690:function(n,e,t){t.d(e,{Df:function(){return s},IQ:function(){return l},Jh:function(){return d},on:function(){return p},s_:function(){return f}});var r=t(5861),a=t(7757),i=t.n(a),c=t(1243),o="https://api.themoviedb.org/3/",u="c978ef3256c1133ebe18d58ddb2527be",s=function(){var n=(0,r.Z)(i().mark((function n(){var e,t,r,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.get("".concat(o,"trending/all/day?api_key=").concat(u));case 2:return e=n.sent,t=e.data,r=t.results,a=r.map((function(n){return{id:n.id,title:n.title,name:n.name}})),n.abrupt("return",{movies:a});case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),p=function(){var n=(0,r.Z)(i().mark((function n(e){var t,r,a,s;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.get("".concat(o,"search/movie?api_key=").concat(u,"&language=en-US&query=").concat(e,"&page=1&include_adult=false"));case 2:return t=n.sent,r=t.data,a=r.results,s=a.map((function(n){return{id:n.id,title:n.title,name:n.name}})),n.abrupt("return",{movies:s});case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,r.Z)(i().mark((function n(e){var t,r,a,s,p,f,l,d,h;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.get("".concat(o,"movie/").concat(e,"?api_key=").concat(u,"&language=en-US"));case 2:return t=n.sent,r=t.data,a=r.poster_path,s=r.title,p=r.name,f=r.release_date,l=r.vote_average,d=r.overview,h=r.genres,n.abrupt("return",{poster_path:a,title:s,name:p,release_date:f,vote_average:l,overview:d,genres:h});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,r.Z)(i().mark((function n(e){var t,r,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.get("".concat(o,"movie/").concat(e,"/credits?api_key=").concat(u,"&language=en-US"));case 2:return t=n.sent,r=t.data,a=r.cast.map((function(n){return{id:n.id,name:n.name,character:n.character,profile_path:n.profile_path}})),n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),d=function(){var n=(0,r.Z)(i().mark((function n(e){var t,r,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.get("".concat(o,"movie/").concat(e,"/reviews?api_key=").concat(u,"&language=en-US&page=1"));case 2:return t=n.sent,r=t.data,a=r.results.map((function(n){return{id:n.id,author:n.author,content:n.content}})),n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},2334:function(n,e,t){t.r(e),t.d(e,{default:function(){return S}});var r,a,i,c,o=t(5861),u=t(9439),s=t(7757),p=t.n(s),f=t(1087),l=t(3313),d=t(168),h=t(6444),x=h.ZP.header(r||(r=(0,d.Z)(["\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n"]))),v=h.ZP.form(a||(a=(0,d.Z)(["\n display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n\n"]))),m=h.ZP.button(i||(i=(0,d.Z)(["\ndisplay: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  \n  &:hover {\n    opacity: 1;\n  }\n"]))),g=h.ZP.input(c||(c=(0,d.Z)(["\ndisplay: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n\n  &::placeholder {\n  font: inherit;\n  font-size: 18px;\n}\n"]))),b=t(184),y=function(){var n=(0,f.lr)(),e=(0,u.Z)(n,2)[1];return(0,b.jsx)(x,{children:(0,b.jsxs)(v,{onSubmit:function(n){n.preventDefault();var t=n.target.query.value.toLocaleLowerCase().trim();t&&e({query:t})},children:[(0,b.jsx)(m,{type:"submit",children:(0,b.jsx)(l.jRj,{size:"16px"})}),(0,b.jsx)(g,{type:"text",autocomplete:"off",autoFocus:!0,placeholder:"Search movies",name:"query"})]})})},w=t(1294),k=t(2791),Z=t(2690),_=t(2483),j=t(6368),S=function(){var n=(0,k.useState)([]),e=(0,u.Z)(n,2),t=e[0],r=e[1],a=(0,k.useState)(!1),i=(0,u.Z)(a,2),c=i[0],s=i[1],l=(0,k.useState)(null),d=(0,u.Z)(l,2),h=d[0],x=d[1],v=(0,f.lr)(),m=(0,u.Z)(v,1)[0].get("query");return(0,k.useEffect)((function(){if(m){var n=function(){var n=(0,o.Z)(p().mark((function n(){var e,t;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s(!0),n.next=4,(0,Z.on)(m);case 4:e=n.sent,t=e.movies,r(t),x(null),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),x(n.t0.massage);case 13:return n.prev=13,s(!1),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[0,10,13,16]])})));return function(){return n.apply(this,arguments)}}();n()}}),[m]),(0,k.useEffect)((function(){h&&alert(h)}),[h]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(w.$,{children:[(0,b.jsx)(y,{}),t.length>0&&(0,b.jsx)(j.O,{movies:t})]}),c&&(0,b.jsx)(_.a,{})]})}}}]);
//# sourceMappingURL=334.d8498c5c.chunk.js.map