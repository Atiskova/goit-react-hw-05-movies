{"version":3,"file":"static/js/334.d8498c5c.chunk.js","mappings":"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","sources":["components/MoviesList/MoviesList.jsx","components/Section/Section.jsx","service/api.js","components/Search/Search.styled.js","components/Search/Search.jsx","views/Movies.jsx"],"sourcesContent":["import PropTypes from 'prop-types';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport { routes } from 'routes';\n\nexport const MoviesList = ({ movies }) => {\n  const location = useLocation();\n  return (\n    <ul>\n      {movies &&\n        movies.map(movie => {\n          return (\n            <li key={movie.id}>\n              <NavLink state={{ from: location }} to={'/' + routes.MOVIES + '/' +  movie.id}>\n                <span>{movie.title || movie.name}</span>\n              </NavLink>\n            </li>\n          );\n        })}\n    </ul>\n  );\n};\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string,\n      name: PropTypes.string,\n    })\n  ),\n};\n","import PropTypes from 'prop-types';\n\nexport const Section = ({ children }) => {\n  return (\n    <section>\n      <div>{children}</div>\n    </section>\n  );\n};\n\nSection.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'c978ef3256c1133ebe18d58ddb2527be';\n\nexport const getTrendingMovies = async () => {\n  const { data } = await axios.get(\n    `${BASE_URL}trending/all/day?api_key=${API_KEY}`\n  );\n  const { results } = data;\n  const movies = results.map(({ id, title, name }) => ({\n    id,\n    title,\n    name,\n  }));\n  return { movies };\n};\n\nexport const getSearch = async query => {\n  const { data } = await axios.get(\n    `${BASE_URL}search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=1&include_adult=false`\n  );\n  const { results } = data;\n  const movies = results.map(({ id, title, name }) => ({\n    id,\n    title,\n    name,\n  }));\n  return { movies };\n};\n\nexport const getDetails = async id => {\n  const { data } = await axios.get(\n    `${BASE_URL}movie/${id}?api_key=${API_KEY}&language=en-US`\n  );\n  const {\n    poster_path,\n    title,\n    name,\n    release_date,\n    vote_average,\n    overview,\n    genres,\n  } = data;\n \n  return {\n    poster_path,\n    title,\n    name,\n    release_date,\n    vote_average,\n    overview,\n    genres,\n  };\n};\n\nexport const getCast = async id => {\n  const { data } = await axios.get(\n    `${BASE_URL}movie/${id}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  const cast = data.cast.map(({ id, name, character, profile_path }) => ({\n    id,\n    name,\n    character,\n    profile_path,\n  }));\n  return cast;\n};\n\nexport const getReviews = async id => {\n  const { data } = await axios.get(\n    `${BASE_URL}movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n\n  const reviews = data.results.map(({ id, author, content }) => ({\n    id,\n    author,\n    content,\n  }));\n  \n  return reviews;\n};\n","import styled from \"styled-components\";\n\nexport const Header = styled.header`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n`\n\nexport const SearchForm = styled.form`\n display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n\n`\n\nexport const Button = styled.button`\ndisplay: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  \n  &:hover {\n    opacity: 1;\n  }\n`\n\nexport const Input = styled.input`\ndisplay: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n\n  &::placeholder {\n  font: inherit;\n  font-size: 18px;\n}\n`","import { FiSearch } from 'react-icons/fi';\nimport { useSearchParams } from 'react-router-dom';\nimport { Header, SearchForm, Button, Input } from './Search.styled';\n\nexport const Search = () => {\n  const [, setSearchParams] = useSearchParams();\n\n  const onSubmit = event => {\n    event.preventDefault();\n    const query = event.target.query.value.toLocaleLowerCase().trim();\n    if (!query) return;\n    setSearchParams({ query });\n\n  };\n  return (\n    <Header>\n      <SearchForm onSubmit={onSubmit}>\n        <Button type=\"submit\">\n          <FiSearch size=\"16px\" />\n        </Button>\n\n        <Input\n          type=\"text\"\n          autocomplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n          name=\"query\"\n        />\n      </SearchForm>\n    </Header>\n  );\n};\n","import { useSearchParams } from 'react-router-dom';\nimport { Search } from 'components/Search/Search';\nimport { Section } from 'components/Section/Section';\nimport { useEffect, useState } from 'react';\nimport { getSearch } from 'service/api';\nimport { Loader } from 'components/Loader/Loader';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\n\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [searchParams] = useSearchParams();\n  const query = searchParams.get('query');\n\n  useEffect(() => {\nif(!query) return\n\n    const movieSearch = async () => {\n      try {\n        setLoading(true);\n        const {movies} = await getSearch(query);\n        setMovies(movies);\n \n        setError(null);\n      } catch (error) {\n        setError(error.massage);\n      } finally {\n        setLoading(false);\n      }\n    };\n    movieSearch();\n  }, [query]);\n\n  useEffect(() => {\n    if (!error) return;\n    alert(error);\n  }, [error]);\n\n\n  return (\n    <>\n      <Section>\n        <Search />\n        {movies.length > 0 && <MoviesList movies={movies}/>}\n      </Section>\n      {loading && <Loader />}\n    </>\n  );\n};\n\nexport default Movies;"],"names":["MoviesList","movies","location","useLocation","map","movie","state","from","to","routes","id","title","name","Section","children","BASE_URL","API_KEY","getTrendingMovies","axios","data","results","getSearch","query","getDetails","poster_path","release_date","vote_average","overview","genres","getCast","cast","character","profile_path","getReviews","reviews","author","content","Header","styled","SearchForm","Button","Input","Search","useSearchParams","setSearchParams","onSubmit","event","preventDefault","target","value","toLocaleLowerCase","trim","type","size","autocomplete","autoFocus","placeholder","useState","setMovies","loading","setLoading","error","setError","get","useEffect","movieSearch","massage","alert","length","Loader"],"sourceRoot":""}